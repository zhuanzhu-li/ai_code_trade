# é¡¹ç›®ç»“æ„è¯´æ˜

æœ¬æ–‡æ¡£è¯¦ç»†è¯´æ˜äº†AIé‡åŒ–äº¤æ˜“ç³»ç»Ÿçš„é¡¹ç›®ç»“æ„å’Œå„ä¸ªæ¨¡å—çš„åŠŸèƒ½ã€‚

## ğŸ“ æ•´ä½“é¡¹ç›®ç»“æ„

```
ai_code_trade/
â”œâ”€â”€ endpoint/                 # åç«¯APIæœåŠ¡ (Python Flask)
â”œâ”€â”€ frontpoint/              # å‰ç«¯åº”ç”¨ (Vue3 + TypeScript)
â”œâ”€â”€ README.md                # é¡¹ç›®ä¸»æ–‡æ¡£
â”œâ”€â”€ .gitignore              # Gitå¿½ç•¥æ–‡ä»¶
â””â”€â”€ PROJECT_STRUCTURE.md    # é¡¹ç›®ç»“æ„è¯´æ˜æ–‡æ¡£
```

## ğŸ”§ åç«¯ç»“æ„ (endpoint/)

### æ ¸å¿ƒç›®å½•

```
endpoint/
â”œâ”€â”€ app/                    # Flaskåº”ç”¨ä¸»ç›®å½•
â”‚   â”œâ”€â”€ __init__.py        # åº”ç”¨å·¥å‚å‡½æ•°
â”‚   â””â”€â”€ routes.py          # APIè·¯ç”±å®šä¹‰
â”œâ”€â”€ models/                 # æ•°æ®åº“æ¨¡å‹å±‚
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ user.py            # ç”¨æˆ·æ¨¡å‹
â”‚   â”œâ”€â”€ portfolio.py       # æŠ•èµ„ç»„åˆæ¨¡å‹
â”‚   â”œâ”€â”€ strategy.py        # ç­–ç•¥æ¨¡å‹
â”‚   â”œâ”€â”€ trade.py           # äº¤æ˜“æ¨¡å‹
â”‚   â”œâ”€â”€ market_data.py     # å¸‚åœºæ•°æ®æ¨¡å‹
â”‚   â””â”€â”€ risk_management.py # é£é™©ç®¡ç†æ¨¡å‹
â”œâ”€â”€ services/              # ä¸šåŠ¡é€»è¾‘æœåŠ¡å±‚
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ trading_service.py # äº¤æ˜“æœåŠ¡
â”‚   â”œâ”€â”€ data_service.py    # æ•°æ®æœåŠ¡
â”‚   â””â”€â”€ risk_service.py    # é£é™©æœåŠ¡
â”œâ”€â”€ strategies/            # äº¤æ˜“ç­–ç•¥å±‚
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ base_strategy.py   # ç­–ç•¥åŸºç±»
â”‚   â”œâ”€â”€ momentum_strategy.py      # åŠ¨é‡ç­–ç•¥
â”‚   â””â”€â”€ mean_reversion_strategy.py # å‡å€¼å›å½’ç­–ç•¥
â”œâ”€â”€ utils/                 # å·¥å…·ç±»
â”‚   â”œâ”€â”€ __init__.py
â”‚   â””â”€â”€ auth.py            # è®¤è¯å·¥å…·
â”œâ”€â”€ tests/                 # æµ‹è¯•æ–‡ä»¶
â”‚   â”œâ”€â”€ __init__.py
â”‚   â””â”€â”€ test_models.py     # æ¨¡å‹æµ‹è¯•
â”œâ”€â”€ migrations/            # æ•°æ®åº“è¿ç§»
â”‚   â”œâ”€â”€ env.py
â”‚   â””â”€â”€ script.py.mako
â”œâ”€â”€ logs/                  # æ—¥å¿—æ–‡ä»¶ç›®å½•
â”œâ”€â”€ config.py              # é…ç½®æ–‡ä»¶
â”œâ”€â”€ app.py                 # åº”ç”¨å…¥å£
â”œâ”€â”€ run.py                 # å¯åŠ¨è„šæœ¬
â”œâ”€â”€ setup.py               # å®‰è£…è„šæœ¬
â”œâ”€â”€ requirements.txt       # Pythonä¾èµ–
â”œâ”€â”€ env.example           # ç¯å¢ƒå˜é‡ç¤ºä¾‹
â”œâ”€â”€ README.md             # åç«¯æ–‡æ¡£
â”œâ”€â”€ API_DOCUMENTATION.md  # APIæ–‡æ¡£
â”œâ”€â”€ ARCHITECTURE.md       # æ¶æ„æ–‡æ¡£
â”œâ”€â”€ DEPLOYMENT_GUIDE.md   # éƒ¨ç½²æŒ‡å—
â””â”€â”€ PROJECT_SUMMARY.md    # é¡¹ç›®æ€»ç»“
```

### è¯¦ç»†è¯´æ˜

#### 1. app/ - Flaskåº”ç”¨æ ¸å¿ƒ
- **`__init__.py`**: åº”ç”¨å·¥å‚å‡½æ•°ï¼Œåˆ›å»ºFlaskåº”ç”¨å®ä¾‹
- **`routes.py`**: å®šä¹‰æ‰€æœ‰APIè·¯ç”±å’Œç«¯ç‚¹

#### 2. models/ - æ•°æ®æ¨¡å‹å±‚
- **`user.py`**: ç”¨æˆ·ç›¸å…³æ•°æ®æ¨¡å‹
- **`portfolio.py`**: æŠ•èµ„ç»„åˆæ•°æ®æ¨¡å‹
- **`strategy.py`**: äº¤æ˜“ç­–ç•¥æ•°æ®æ¨¡å‹
- **`trade.py`**: äº¤æ˜“è®°å½•æ•°æ®æ¨¡å‹
- **`market_data.py`**: å¸‚åœºæ•°æ®æ¨¡å‹
- **`risk_management.py`**: é£é™©ç®¡ç†æ•°æ®æ¨¡å‹

#### 3. services/ - ä¸šåŠ¡é€»è¾‘å±‚
- **`trading_service.py`**: äº¤æ˜“ç›¸å…³ä¸šåŠ¡é€»è¾‘
- **`data_service.py`**: å¸‚åœºæ•°æ®è·å–å’Œå¤„ç†
- **`risk_service.py`**: é£é™©ç®¡ç†ä¸šåŠ¡é€»è¾‘

#### 4. strategies/ - äº¤æ˜“ç­–ç•¥å±‚
- **`base_strategy.py`**: ç­–ç•¥åŸºç±»ï¼Œå®šä¹‰ç­–ç•¥æ¥å£
- **`momentum_strategy.py`**: åŠ¨é‡äº¤æ˜“ç­–ç•¥å®ç°
- **`mean_reversion_strategy.py`**: å‡å€¼å›å½’ç­–ç•¥å®ç°

#### 5. utils/ - å·¥å…·ç±»
- **`auth.py`**: JWTè®¤è¯ç›¸å…³å·¥å…·å‡½æ•°

## ğŸ¨ å‰ç«¯ç»“æ„ (frontpoint/)

### æ ¸å¿ƒç›®å½•

```
frontpoint/
â”œâ”€â”€ public/                # é™æ€èµ„æº
â”œâ”€â”€ src/                   # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ api/              # APIæœåŠ¡å±‚
â”‚   â”‚   â””â”€â”€ index.ts      # APIå®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ components/       # å…¬å…±ç»„ä»¶
â”‚   â”‚   â””â”€â”€ Layout/       # å¸ƒå±€ç»„ä»¶
â”‚   â”‚       â””â”€â”€ index.vue # ä¸»å¸ƒå±€ç»„ä»¶
â”‚   â”œâ”€â”€ stores/           # çŠ¶æ€ç®¡ç† (Pinia)
â”‚   â”‚   â”œâ”€â”€ auth.ts       # è®¤è¯çŠ¶æ€
â”‚   â”‚   â”œâ”€â”€ portfolio.ts  # æŠ•èµ„ç»„åˆçŠ¶æ€
â”‚   â”‚   â”œâ”€â”€ trading.ts    # äº¤æ˜“çŠ¶æ€
â”‚   â”‚   â”œâ”€â”€ strategy.ts   # ç­–ç•¥çŠ¶æ€
â”‚   â”‚   â””â”€â”€ market.ts     # å¸‚åœºæ•°æ®çŠ¶æ€
â”‚   â”œâ”€â”€ styles/           # å…¨å±€æ ·å¼
â”‚   â”‚   â””â”€â”€ index.scss    # ä¸»æ ·å¼æ–‡ä»¶
â”‚   â”œâ”€â”€ types/            # TypeScriptç±»å‹å®šä¹‰
â”‚   â”‚   â””â”€â”€ index.ts      # é€šç”¨ç±»å‹
â”‚   â”œâ”€â”€ views/            # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Login.vue     # ç™»å½•é¡µ
â”‚   â”‚   â”œâ”€â”€ Register.vue  # æ³¨å†Œé¡µ
â”‚   â”‚   â”œâ”€â”€ Dashboard.vue # ä»ªè¡¨æ¿
â”‚   â”‚   â”œâ”€â”€ Portfolios.vue # æŠ•èµ„ç»„åˆç®¡ç†
â”‚   â”‚   â”œâ”€â”€ PortfolioDetail.vue # æŠ•èµ„ç»„åˆè¯¦æƒ…
â”‚   â”‚   â”œâ”€â”€ Trading.vue   # äº¤æ˜“ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ Strategies.vue # ç­–ç•¥ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ StrategyDetail.vue # ç­–ç•¥è¯¦æƒ…
â”‚   â”‚   â”œâ”€â”€ Market.vue    # å¸‚åœºæ•°æ®
â”‚   â”‚   â”œâ”€â”€ Risk.vue      # é£é™©ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ Settings.vue  # ç³»ç»Ÿè®¾ç½®
â”‚   â”‚   â””â”€â”€ NotFound.vue  # 404é¡µé¢
â”‚   â”œâ”€â”€ router/           # è·¯ç”±é…ç½®
â”‚   â”‚   â””â”€â”€ index.ts      # è·¯ç”±å®šä¹‰
â”‚   â”œâ”€â”€ App.vue           # æ ¹ç»„ä»¶
â”‚   â””â”€â”€ main.ts           # å…¥å£æ–‡ä»¶
â”œâ”€â”€ node_modules/         # Node.jsä¾èµ–
â”œâ”€â”€ package.json          # é¡¹ç›®é…ç½®
â”œâ”€â”€ package-lock.json     # ä¾èµ–é”å®šæ–‡ä»¶
â”œâ”€â”€ vite.config.ts        # Viteé…ç½®
â”œâ”€â”€ tsconfig.json         # TypeScripté…ç½®
â”œâ”€â”€ tsconfig.node.json    # Node.js TypeScripté…ç½®
â”œâ”€â”€ components.d.ts       # ç»„ä»¶ç±»å‹å£°æ˜
â”œâ”€â”€ auto-imports.d.ts     # è‡ªåŠ¨å¯¼å…¥ç±»å‹å£°æ˜
â”œâ”€â”€ index.html            # HTMLå…¥å£
â”œâ”€â”€ nginx.conf            # Nginxé…ç½®
â”œâ”€â”€ Dockerfile            # Dockeré…ç½®
â”œâ”€â”€ docker-compose.yml    # Docker Composeé…ç½®
â”œâ”€â”€ env.example           # ç¯å¢ƒå˜é‡ç¤ºä¾‹
â”œâ”€â”€ DEPLOYMENT.md         # éƒ¨ç½²æ–‡æ¡£
â””â”€â”€ README.md             # å‰ç«¯æ–‡æ¡£
```

### è¯¦ç»†è¯´æ˜

#### 1. src/api/ - APIæœåŠ¡å±‚
- **`index.ts`**: ç»Ÿä¸€çš„APIå®¢æˆ·ç«¯ï¼Œå¤„ç†æ‰€æœ‰HTTPè¯·æ±‚

#### 2. src/components/ - å…¬å…±ç»„ä»¶
- **`Layout/`**: å¸ƒå±€ç›¸å…³ç»„ä»¶
- å¯æ‰©å±•å…¶ä»–å…¬å…±ç»„ä»¶

#### 3. src/stores/ - çŠ¶æ€ç®¡ç†
- **`auth.ts`**: ç”¨æˆ·è®¤è¯çŠ¶æ€ç®¡ç†
- **`portfolio.ts`**: æŠ•èµ„ç»„åˆçŠ¶æ€ç®¡ç†
- **`trading.ts`**: äº¤æ˜“çŠ¶æ€ç®¡ç†
- **`strategy.ts`**: ç­–ç•¥çŠ¶æ€ç®¡ç†
- **`market.ts`**: å¸‚åœºæ•°æ®çŠ¶æ€ç®¡ç†

#### 4. src/views/ - é¡µé¢ç»„ä»¶
- å„ä¸ªåŠŸèƒ½é¡µé¢çš„Vueç»„ä»¶
- æ¯ä¸ªé¡µé¢å¯¹åº”ä¸€ä¸ªä¸»è¦åŠŸèƒ½æ¨¡å—

#### 5. src/types/ - ç±»å‹å®šä¹‰
- **`index.ts`**: å…¨å±€TypeScriptç±»å‹å®šä¹‰

#### 6. src/router/ - è·¯ç”±é…ç½®
- **`index.ts`**: Vue Routerè·¯ç”±é…ç½®

## ğŸ”„ æ•°æ®æµæ¶æ„

### åç«¯æ•°æ®æµ
```
APIè¯·æ±‚ â†’ routes.py â†’ services/ â†’ models/ â†’ æ•°æ®åº“
                â†“
           è¿”å›å“åº” â† JSONåºåˆ—åŒ– â† ä¸šåŠ¡é€»è¾‘å¤„ç†
```

### å‰ç«¯æ•°æ®æµ
```
ç”¨æˆ·æ“ä½œ â†’ Vueç»„ä»¶ â†’ stores/ â†’ api/ â†’ åç«¯API
                â†“
           æ›´æ–°UI â† çŠ¶æ€æ›´æ–° â† å“åº”å¤„ç† â† HTTPè¯·æ±‚
```

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### åç«¯æ¶æ„
- **æ¡†æ¶**: Flask (è½»é‡çº§Webæ¡†æ¶)
- **ORM**: SQLAlchemy (æ•°æ®åº“ORM)
- **è®¤è¯**: JWT (JSON Web Token)
- **æ•°æ®åº“**: MySQL (å…³ç³»å‹æ•°æ®åº“)
- **æ•°æ®è·å–**: yfinance, ccxt (å¸‚åœºæ•°æ®)
- **æŠ€æœ¯åˆ†æ**: pandas, numpy, ta-lib

### å‰ç«¯æ¶æ„
- **æ¡†æ¶**: Vue 3 (æ¸è¿›å¼JavaScriptæ¡†æ¶)
- **è¯­è¨€**: TypeScript (ç±»å‹å®‰å…¨çš„JavaScript)
- **UIåº“**: Element Plus (Vue 3ç»„ä»¶åº“)
- **çŠ¶æ€ç®¡ç†**: Pinia (VueçŠ¶æ€ç®¡ç†)
- **è·¯ç”±**: Vue Router (Vueè·¯ç”±)
- **æ„å»ºå·¥å…·**: Vite (å¿«é€Ÿæ„å»ºå·¥å…·)
- **å›¾è¡¨**: ECharts (æ•°æ®å¯è§†åŒ–)

## ğŸ“¦ ä¾èµ–ç®¡ç†

### åç«¯ä¾èµ– (requirements.txt)
```
Flask==2.3.3
Flask-SQLAlchemy==3.0.5
Flask-Migrate==4.0.5
Flask-CORS==4.0.0
PyMySQL==1.1.0
cryptography==41.0.7
pandas==2.1.1
numpy==1.24.3
yfinance==0.2.18
ta-lib==0.4.28
requests==2.31.0
python-dotenv==1.0.0
APScheduler==3.10.4
ccxt==4.1.0
websocket-client==1.6.4
python-dateutil==2.8.2
pytz==2023.3
PyJWT==2.8.0
Werkzeug==2.3.7
```

### å‰ç«¯ä¾èµ– (package.json)
```json
{
  "dependencies": {
    "vue": "^3.5.13",
    "element-plus": "^2.8.8",
    "pinia": "^2.2.6",
    "vue-router": "^4.5.0",
    "axios": "^1.7.9",
    "echarts": "^5.5.1",
    "vue-echarts": "^6.6.1"
  }
}
```

## ğŸš€ éƒ¨ç½²ç»“æ„

### å¼€å‘ç¯å¢ƒ
- åç«¯: http://localhost:5000
- å‰ç«¯: http://localhost:3000
- æ•°æ®åº“: localhost:3306

### ç”Ÿäº§ç¯å¢ƒ
- åç«¯: Gunicorn + Nginx
- å‰ç«¯: Nginxé™æ€æ–‡ä»¶æœåŠ¡
- æ•°æ®åº“: MySQLé›†ç¾¤
- ç¼“å­˜: Redis (å¯é€‰)

## ğŸ“ å¼€å‘è§„èŒƒ

### ä»£ç ç»„ç»‡
- æŒ‰åŠŸèƒ½æ¨¡å—ç»„ç»‡ä»£ç 
- å•ä¸€èŒè´£åŸåˆ™
- ä¾èµ–æ³¨å…¥æ¨¡å¼
- æ¥å£ä¸å®ç°åˆ†ç¦»

### å‘½åè§„èŒƒ
- æ–‡ä»¶å: å°å†™+ä¸‹åˆ’çº¿ (snake_case)
- ç±»å: å¤§é©¼å³° (PascalCase)
- å‡½æ•°å: å°å†™+ä¸‹åˆ’çº¿ (snake_case)
- å¸¸é‡: å¤§å†™+ä¸‹åˆ’çº¿ (UPPER_CASE)

### æ–‡æ¡£è§„èŒƒ
- æ¯ä¸ªæ¨¡å—éƒ½æœ‰è¯¦ç»†çš„æ–‡æ¡£
- APIæ¥å£æœ‰å®Œæ•´çš„æ–‡æ¡£
- ä»£ç æ³¨é‡Šæ¸…æ™°æ˜äº†
- ä½¿ç”¨Markdownæ ¼å¼

## ğŸ”§ æ‰©å±•æŒ‡å—

### æ·»åŠ æ–°åŠŸèƒ½æ¨¡å—
1. åœ¨åç«¯åˆ›å»ºå¯¹åº”çš„modelã€serviceã€route
2. åœ¨å‰ç«¯åˆ›å»ºå¯¹åº”çš„storeã€viewã€api
3. æ›´æ–°è·¯ç”±é…ç½®
4. æ·»åŠ ç›¸åº”çš„æµ‹è¯•

### æ·»åŠ æ–°çš„äº¤æ˜“ç­–ç•¥
1. ç»§æ‰¿BaseStrategyç±»
2. å®ç°å¿…è¦çš„æŠ½è±¡æ–¹æ³•
3. åœ¨ç­–ç•¥ç®¡ç†ä¸­æ·»åŠ é…ç½®
4. æ›´æ–°å‰ç«¯ç­–ç•¥é€‰æ‹©ç•Œé¢

### æ·»åŠ æ–°çš„æ•°æ®æº
1. åœ¨DataServiceä¸­æ·»åŠ æ•°æ®è·å–æ–¹æ³•
2. å®ç°æ•°æ®æ ¼å¼æ ‡å‡†åŒ–
3. æ·»åŠ é”™è¯¯å¤„ç†å’Œé‡è¯•æœºåˆ¶
4. æ›´æ–°APIæ¥å£

è¿™ä¸ªé¡¹ç›®ç»“æ„è®¾è®¡éµå¾ªäº†ç°ä»£è½¯ä»¶å¼€å‘çš„æœ€ä½³å®è·µï¼Œå…·æœ‰è‰¯å¥½çš„å¯ç»´æŠ¤æ€§ã€å¯æ‰©å±•æ€§å’Œå¯æµ‹è¯•æ€§ã€‚
